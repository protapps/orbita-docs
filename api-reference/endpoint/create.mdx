---
title: 'Criar Pagamento'
openapi: 'POST /pay/payments'
---

## üìã Estrutura da Requisi√ß√£o

### Payload Principal

<ParamField body="paymentMethod" type="string" required>
  M√©todo de pagamento: `pix`, `credit_card` ou `boleto`
</ParamField>

<ParamField body="amount" type="integer" required>
  Valor em centavos (ex: 10000 = R$ 100,00)
</ParamField>

<ParamField body="currency" type="string" required>
  Moeda (sempre "BRL")
</ParamField>

<ParamField body="paymentDetails" type="object" required>
  Dados do pagador
  
  <ParamField body="paymentDetails.firstName" type="string" required>
    Nome do pagador
  </ParamField>
  
  <ParamField body="paymentDetails.lastName" type="string" required>
    Sobrenome do pagador
  </ParamField>
  
  <ParamField body="paymentDetails.document" type="string" required>
    CPF/CNPJ (apenas n√∫meros)
  </ParamField>
  
  <ParamField body="paymentDetails.documentType" type="string" required>
    Tipo do documento: `cpf` ou `cnpj`
  </ParamField>
  
  <ParamField body="paymentDetails.email" type="string" required>
    E-mail do pagador
  </ParamField>
  
  <ParamField body="paymentDetails.phoneNumber" type="string" required>
    Telefone (apenas n√∫meros, sem formata√ß√£o)
  </ParamField>
  
  <ParamField body="paymentDetails.address" type="object" required>
    Endere√ßo completo
    
    <ParamField body="paymentDetails.address.address1" type="string" required>
      Endere√ßo linha 1
    </ParamField>
    
    <ParamField body="paymentDetails.address.address2" type="string">
      Endere√ßo linha 2 (complemento)
    </ParamField>
    
    <ParamField body="paymentDetails.address.neighboor" type="string" required>
      Bairro
    </ParamField>
    
    <ParamField body="paymentDetails.address.zipCode" type="string" required>
      CEP (formato: 01234-567)
    </ParamField>
    
    <ParamField body="paymentDetails.address.city" type="string" required>
      Cidade
    </ParamField>
    
    <ParamField body="paymentDetails.address.state" type="string" required>
      Estado (UF)
    </ParamField>
    
    <ParamField body="paymentDetails.address.country" type="string" required>
      Pa√≠s (sempre "BR")
    </ParamField>
  </ParamField>
</ParamField>

<ParamField body="items" type="array">
  Lista de itens/produtos
  
  <ParamField body="items[].tangible" type="boolean">
    Se o item √© f√≠sico ou digital
  </ParamField>
  
  <ParamField body="items[].title" type="string">
    T√≠tulo do item
  </ParamField>
  
  <ParamField body="items[].unitPrice" type="integer">
    Pre√ßo unit√°rio em centavos
  </ParamField>
  
  <ParamField body="items[].quantity" type="integer">
    Quantidade
  </ParamField>
</ParamField>

<ParamField body="postbackUrl" type="string">
  URL para receber webhooks de notifica√ß√£o
</ParamField>

<ParamField body="affiliateId" type="string">
  ID do afiliado
</ParamField>

<ParamField body="planId" type="string">
  ID do plano
</ParamField>

<ParamField body="userId" type="string">
  ID do usu√°rio
</ParamField>

<ParamField body="transactionId" type="string">
  ID da transa√ß√£o (gerado automaticamente se n√£o informado)
</ParamField>

---

## üí≥ Campos Espec√≠ficos para Cart√£o de Cr√©dito

Quando `paymentMethod = "credit_card"`, os seguintes campos s√£o obrigat√≥rios:

<ParamField body="installments" type="integer" required>
  N√∫mero de parcelas (obrigat√≥rio para cart√£o)
</ParamField>

<ParamField body="creditCard" type="object" required>
  Dados do cart√£o de cr√©dito (obrigat√≥rio para cart√£o)
  
  <ParamField body="creditCard.cardHolderName" type="string" required>
    Nome do portador do cart√£o
  </ParamField>
  
  <ParamField body="creditCard.cardNumber" type="string" required>
    N√∫mero do cart√£o (apenas n√∫meros)
  </ParamField>
  
  <ParamField body="creditCard.cardMonth" type="string" required>
    M√™s de expira√ß√£o (formato: "12")
  </ParamField>
  
  <ParamField body="creditCard.cardYear" type="string" required>
    Ano de expira√ß√£o (formato: "25")
  </ParamField>
  
  <ParamField body="creditCard.cardCVV" type="string" required>
    C√≥digo de seguran√ßa (CVV)
  </ParamField>
</ParamField>

---

## üì§ Respostas da API

### PIX - Resposta de Sucesso

```json
{
  "acquirerTxId": "acq-12345",
  "pixQrCode": "00020126580014BR.GOV.BCB.PIX...",
  "pixCode": "00020126580014BR.GOV.BCB.PIX...",
  "transactionId": "14d486a6-7c9d-4e75-919c-b0a2d1bf49ae",
  "status": "pending"
}
```

### Boleto - Resposta de Sucesso

```json
{
  "acquirerTxId": "acq-12345",
  "boletoCode": "34191790010104351004791020150008291070026000",
  "transactionId": "14d486a6-7c9d-4e75-919c-b0a2d1bf49ae",
  "status": "pending"
}
```

### Cart√£o de Cr√©dito - Resposta de Sucesso

```json
{
  "acquirerTxId": "acq-12345",
  "systemTxId": "sys-67890",
  "status": "approved",
  "endToEnd": "E12345678202412345678901234567890",
  "transactionId": "14d486a6-7c9d-4e75-919c-b0a2d1bf49ae"
}
```

### Exemplo de Resposta de Erro

```json
{
  "error": "Validation failed",
  "message": "creditCard and installments are required when paymentMethod is 'credit_card'",
  "statusCode": 422
}
```

---

## üí° Exemplos Pr√°ticos

### Exemplo 1: Pagamento PIX

```bash
curl -X POST https://api.orbita.com/pay/payments \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer sua-api-key" \
  -d '{
    "paymentMethod": "pix",
    "amount": 5000,
    "currency": "BRL",
    "paymentDetails": {
      "firstName": "Maria",
      "lastName": "Santos",
      "document": "12345678901",
      "documentType": "cpf",
      "email": "maria@email.com",
      "phoneNumber": "11999999999",
      "address": {
        "address1": "Av. Paulista, 1000",
        "neighboor": "Bela Vista",
        "zipCode": "01310-000",
        "city": "S√£o Paulo",
        "state": "SP",
        "country": "BR"
      }
    },
    "items": [{
      "tangible": false,
      "title": "Curso Online",
      "unitPrice": 5000,
      "quantity": 1
    }],
    "postbackUrl": "https://meusite.com/webhook"
  }'
```

### Exemplo 2: Pagamento com Cart√£o

```bash
curl -X POST https://api.orbita.com/pay/payments \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer sua-api-key" \
  -d '{
    "paymentMethod": "credit_card",
    "amount": 15000,
    "currency": "BRL",
    "installments": 3,
    "creditCard": {
      "cardHolderName": "Jo√£o Silva",
      "cardNumber": "4111111111111111",
      "cardMonth": "12",
      "cardYear": "25",
      "cardCVV": "123"
    },
    "paymentDetails": {
      "firstName": "Jo√£o",
      "lastName": "Silva",
      "document": "12345678901",
      "documentType": "cpf",
      "email": "joao@email.com",
      "phoneNumber": "11999999999",
      "address": {
        "address1": "Rua das Flores, 123",
        "neighboor": "Centro",
        "zipCode": "01234-567",
        "city": "S√£o Paulo",
        "state": "SP",
        "country": "BR"
      }
    }
  }'
```
